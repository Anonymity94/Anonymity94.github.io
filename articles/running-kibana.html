<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>本地运行 Kibana | Anonymity94</title>
    <meta name="description" content="Just do IT.">
    <link rel="icon" href="/avatar.png">
  <meta author="anonymity94">
    
    <link rel="preload" href="/assets/css/0.styles.7079bfdd.css" as="style"><link rel="preload" href="/assets/js/app.baaeccd8.js" as="script"><link rel="preload" href="/assets/js/2.02fec8bd.js" as="script"><link rel="preload" href="/assets/js/48.bd60e436.js" as="script"><link rel="preload" href="/assets/js/14.96834925.js" as="script"><link rel="prefetch" href="/assets/js/10.db7b026a.js"><link rel="prefetch" href="/assets/js/11.b918f6fe.js"><link rel="prefetch" href="/assets/js/12.82cab22f.js"><link rel="prefetch" href="/assets/js/13.4fd3c2c0.js"><link rel="prefetch" href="/assets/js/15.f5f78d18.js"><link rel="prefetch" href="/assets/js/16.0f84f1aa.js"><link rel="prefetch" href="/assets/js/17.f679c5db.js"><link rel="prefetch" href="/assets/js/18.4b8288b2.js"><link rel="prefetch" href="/assets/js/19.d598f827.js"><link rel="prefetch" href="/assets/js/20.b5a57e05.js"><link rel="prefetch" href="/assets/js/21.c19e4c48.js"><link rel="prefetch" href="/assets/js/22.8f022758.js"><link rel="prefetch" href="/assets/js/23.56254025.js"><link rel="prefetch" href="/assets/js/24.7aa874a7.js"><link rel="prefetch" href="/assets/js/25.e52bcb0d.js"><link rel="prefetch" href="/assets/js/26.1248a61b.js"><link rel="prefetch" href="/assets/js/27.b4eaaff3.js"><link rel="prefetch" href="/assets/js/28.735db355.js"><link rel="prefetch" href="/assets/js/29.b442cf47.js"><link rel="prefetch" href="/assets/js/3.d9b0851f.js"><link rel="prefetch" href="/assets/js/30.7e28f8ec.js"><link rel="prefetch" href="/assets/js/31.e9b04511.js"><link rel="prefetch" href="/assets/js/32.7cbfc385.js"><link rel="prefetch" href="/assets/js/33.0c61e277.js"><link rel="prefetch" href="/assets/js/34.ac8b7e0f.js"><link rel="prefetch" href="/assets/js/35.71104455.js"><link rel="prefetch" href="/assets/js/36.3d7656d8.js"><link rel="prefetch" href="/assets/js/37.ceb7708e.js"><link rel="prefetch" href="/assets/js/38.53f351ee.js"><link rel="prefetch" href="/assets/js/39.286ff910.js"><link rel="prefetch" href="/assets/js/4.c5ced30a.js"><link rel="prefetch" href="/assets/js/40.d6814531.js"><link rel="prefetch" href="/assets/js/41.571d6b7c.js"><link rel="prefetch" href="/assets/js/42.95400dbe.js"><link rel="prefetch" href="/assets/js/43.5f203567.js"><link rel="prefetch" href="/assets/js/44.f150bb99.js"><link rel="prefetch" href="/assets/js/45.293aac86.js"><link rel="prefetch" href="/assets/js/46.c2b84709.js"><link rel="prefetch" href="/assets/js/47.57d746f4.js"><link rel="prefetch" href="/assets/js/49.9367bb28.js"><link rel="prefetch" href="/assets/js/5.0a3596a2.js"><link rel="prefetch" href="/assets/js/50.8c28c1bb.js"><link rel="prefetch" href="/assets/js/51.a2d85f4b.js"><link rel="prefetch" href="/assets/js/52.e54a61b7.js"><link rel="prefetch" href="/assets/js/53.70cc7f87.js"><link rel="prefetch" href="/assets/js/54.bb8e8a7e.js"><link rel="prefetch" href="/assets/js/55.f53a0bbf.js"><link rel="prefetch" href="/assets/js/6.3302982e.js"><link rel="prefetch" href="/assets/js/7.bef4a849.js"><link rel="prefetch" href="/assets/js/8.083fdb49.js"><link rel="prefetch" href="/assets/js/9.bc149c14.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7079bfdd.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Anonymity94</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/articles/" class="nav-link router-link-active">文章</a></div><div class="nav-item"><a href="/collections/" class="nav-link">收藏夹</a></div><div class="nav-item"><a href="/archive/" class="nav-link">归档</a></div><div class="nav-item"><a href="/experimentation/" class="nav-link">试验场</a></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div> <a href="https://github.com/Anonymity94" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/articles/" class="nav-link router-link-active">文章</a></div><div class="nav-item"><a href="/collections/" class="nav-link">收藏夹</a></div><div class="nav-item"><a href="/archive/" class="nav-link">归档</a></div><div class="nav-item"><a href="/experimentation/" class="nav-link">试验场</a></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div> <a href="https://github.com/Anonymity94" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>本地运行 Kibana</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/articles/running-kibana.html#github仓库" class="sidebar-link">github仓库</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/articles/running-kibana.html#本地准备" class="sidebar-link">本地准备</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/articles/running-kibana.html#构建" class="sidebar-link">构建</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/articles/running-kibana.html#出现的问题" class="sidebar-link">出现的问题</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/articles/running-kibana.html#修改配置文件" class="sidebar-link">修改配置文件</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/articles/running-kibana.html#启动" class="sidebar-link">启动</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="本地运行-kibana"><a href="#本地运行-kibana" aria-hidden="true" class="header-anchor">#</a> 本地运行 Kibana</h1> <div class="post-meta" data-v-7b3ac6b7><span class="post-time" data-v-7b3ac6b7><span class="post-meta-item-text" data-v-7b3ac6b7>
      发布于:
    </span> <time itemprop="dateCreated" datetime="2019-08-27T03:38:10.000Z" data-v-7b3ac6b7>
      2019-08-27
    </time></span> <div class="post-category" data-v-7b3ac6b7><span itemprop="tag" data-v-7b3ac6b7><a href="/archive/?tag=kibana" data-v-7b3ac6b7><span class="tag sm" data-v-7b3ac6b7>
          kibana
        </span></a></span></div></div> <h2 id="github仓库"><a href="#github仓库" aria-hidden="true" class="header-anchor">#</a> github仓库</h2> <p><a href="https://github.com/elastic/kibana/" target="_blank" rel="noopener noreferrer">elastic/kibana<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="本地准备"><a href="#本地准备" aria-hidden="true" class="header-anchor">#</a> 本地准备</h2> <ul><li>yarn</li> <li>nvm</li> <li>Node-<code>v10.15.2</code></li></ul> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;engines&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;node&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10.15.2&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;yarn&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.10.1&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="构建"><a href="#构建" aria-hidden="true" class="header-anchor">#</a> 构建</h2> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>wangfuchengdeMac-mini:kibana-7.0.1 wangfucheng$ <span class="token function">yarn</span> kbn bootstrap
<span class="token function">yarn</span> run v1.17.3
$ node scripts/kbn bootstrap
Running <span class="token punctuation">[</span>bootstrap<span class="token punctuation">]</span> <span class="token builtin class-name">command</span> from <span class="token punctuation">[</span>/Users/wangfucheng/coading/elk/kibana-7.0.1<span class="token punctuation">]</span>:

Found <span class="token punctuation">[</span><span class="token number">26</span><span class="token punctuation">]</span> projects:

kibana
├── packages
│   ├── elastic-datemath <span class="token punctuation">(</span>@elastic/datemath<span class="token punctuation">)</span>
│   ├── eslint-config-kibana <span class="token punctuation">(</span>@elastic/eslint-config-kibana<span class="token punctuation">)</span>
│   ├── kbn-babel-code-parser <span class="token punctuation">(</span>@kbn/babel-code-parser<span class="token punctuation">)</span>
│   ├── kbn-babel-preset <span class="token punctuation">(</span>@kbn/babel-preset<span class="token punctuation">)</span>
│   ├── kbn-config-schema <span class="token punctuation">(</span>@kbn/config-schema<span class="token punctuation">)</span>
│   ├── kbn-dev-utils <span class="token punctuation">(</span>@kbn/dev-utils<span class="token punctuation">)</span>
│   ├── kbn-es-query <span class="token punctuation">(</span>@kbn/es-query<span class="token punctuation">)</span>
│   ├── kbn-es <span class="token punctuation">(</span>@kbn/es<span class="token punctuation">)</span>
│   ├── kbn-eslint-import-resolver-kibana <span class="token punctuation">(</span>@kbn/eslint-import-resolver-kibana<span class="token punctuation">)</span>
│   ├── kbn-eslint-plugin-eslint <span class="token punctuation">(</span>@kbn/eslint-plugin-eslint<span class="token punctuation">)</span>
│   ├── kbn-expect <span class="token punctuation">(</span>@kbn/expect<span class="token punctuation">)</span>
│   ├── kbn-i18n <span class="token punctuation">(</span>@kbn/i18n<span class="token punctuation">)</span>
│   ├── kbn-interpreter <span class="token punctuation">(</span>@kbn/interpreter<span class="token punctuation">)</span>
│   ├── kbn-plugin-generator <span class="token punctuation">(</span>@kbn/plugin-generator<span class="token punctuation">)</span>
│   ├── kbn-plugin-helpers <span class="token punctuation">(</span>@kbn/plugin-helpers<span class="token punctuation">)</span>
│   ├── kbn-pm <span class="token punctuation">(</span>@kbn/pm<span class="token punctuation">)</span>
│   ├── kbn-test-subj-selector <span class="token punctuation">(</span>@kbn/test-subj-selector<span class="token punctuation">)</span>
│   ├── kbn-test <span class="token punctuation">(</span>@kbn/test<span class="token punctuation">)</span>
│   └── kbn-ui-framework <span class="token punctuation">(</span>@kbn/ui-framework<span class="token punctuation">)</span>
├── test/plugin_functional/plugins
│   ├── kbn_tp_custom_visualizations
│   ├── kbn_tp_sample_app_plugin
│   ├── kbn_tp_sample_panel_action
│   └── kbn_tp_visualize_embedding
└── x-pack <span class="token punctuation">(</span>x-pack<span class="token punctuation">)</span>
    └── plugins/infra

Running installs <span class="token keyword">in</span> topological order:


Installing dependencies <span class="token keyword">in</span> <span class="token punctuation">[</span>kibana<span class="token punctuation">]</span>:

$ node ./preinstall_check
<span class="token punctuation">[</span><span class="token number">1</span>/5<span class="token punctuation">]</span> 🔍  Validating package.json<span class="token punctuation">..</span>.
<span class="token punctuation">[</span><span class="token number">2</span>/5<span class="token punctuation">]</span> 🔍  Resolving packages<span class="token punctuation">..</span>.
success Already up-to-date.
Skipping workspace project: @elastic/datemath
Skipping workspace project: @elastic/eslint-config-kibana
Skipping workspace project: @kbn/babel-code-parser
Skipping workspace project: @kbn/babel-preset
Skipping workspace project: @kbn/config-schema
Skipping workspace project: @kbn/dev-utils
Skipping workspace project: @kbn/es-query
Skipping workspace project: @kbn/es
Skipping workspace project: @kbn/eslint-import-resolver-kibana
Skipping workspace project: @kbn/eslint-plugin-eslint
Skipping workspace project: @kbn/expect
Skipping workspace project: @kbn/i18n
Skipping workspace project: @kbn/interpreter
Skipping workspace project: @kbn/plugin-generator
Skipping workspace project: @kbn/plugin-helpers
Skipping workspace project: @kbn/pm
Skipping workspace project: @kbn/test-subj-selector
Skipping workspace project: @kbn/test
Skipping workspace project: @kbn/ui-framework
Skipping workspace project: kbn_tp_custom_visualizations
Skipping workspace project: kbn_tp_sample_app_plugin
Skipping workspace project: kbn_tp_sample_panel_action
Skipping workspace project: kbn_tp_visualize_embedding
Skipping workspace project: x-pack
Skipping workspace project: infra

Installs completed, linking package executables:

<span class="token punctuation">[</span>x-pack<span class="token punctuation">]</span> plugin-helpers -<span class="token operator">&gt;</span> <span class="token punctuation">..</span>/packages/kbn-plugin-helpers/bin/plugin-helpers.js

Linking executables completed, running <span class="token variable"><span class="token variable">`</span>kbn:bootstrap<span class="token variable">`</span></span> scripts

@elastic/datemath: $ <span class="token function">yarn</span> build --quiet
@kbn/config-schema: $ <span class="token function">yarn</span> build
@kbn/config-schema: $ tsc
@elastic/datemath: $ babel src --out-dir target --copy-files --quiet
@kbn/babel-code-parser: $ <span class="token function">yarn</span> build --quiet
@kbn/dev-utils: $ <span class="token function">yarn</span> build --quiet
@kbn/babel-code-parser: $ babel src --out-dir target --quiet
@kbn/dev-utils: $ babel src --out-dir target --quiet
@kbn/es-query: $ node scripts/build --source-maps
@kbn/i18n: $ node scripts/build --source-maps
@kbn/test: $ <span class="token function">yarn</span> build
@kbn/es-query:  info Deleting old output
@kbn/i18n:  info Deleting old output
@kbn/i18n:  info Starting babel and typescript
@kbn/es-query:  info Starting babel and typescript
@kbn/i18n:  info <span class="token punctuation">[</span>babel:web <span class="token punctuation">]</span> <span class="token operator">&gt;</span> babel src --config-file /Users/wangfucheng/coading/elk/kibana-7.0.1/packages/kbn-i18n/babel.config.js --out-dir /Users/wangfucheng/coading/elk/kibana-7.0.1/packages/kbn-i18n/target/web --extensions .ts,.js,.tsx --quiet --source-map inline
@kbn/es-query:  info <span class="token punctuation">[</span>babel:public<span class="token punctuation">]</span> <span class="token operator">&gt;</span> babel src --config-file /Users/wangfucheng/coading/elk/kibana-7.0.1/packages/kbn-es-query/babel.config.js --out-dir /Users/wangfucheng/coading/elk/kibana-7.0.1/packages/kbn-es-query/target/public --extensions .js,.ts,.tsx --quiet --source-map inline
@kbn/i18n:  info <span class="token punctuation">[</span>babel:node<span class="token punctuation">]</span> <span class="token operator">&gt;</span> babel src --config-file /Users/wangfucheng/coading/elk/kibana-7.0.1/packages/kbn-i18n/babel.config.js --out-dir /Users/wangfucheng/coading/elk/kibana-7.0.1/packages/kbn-i18n/target/node --extensions .ts,.js,.tsx --quiet --source-map inline
@kbn/test: $ babel src --out-dir target --delete-dir-on-start --extensions .ts,.js,.tsx
@kbn/es-query:  info <span class="token punctuation">[</span>babel:server<span class="token punctuation">]</span> <span class="token operator">&gt;</span> babel src --config-file /Users/wangfucheng/coading/elk/kibana-7.0.1/packages/kbn-es-query/babel.config.js --out-dir /Users/wangfucheng/coading/elk/kibana-7.0.1/packages/kbn-es-query/target/server --extensions .js,.ts,.tsx --quiet --source-map inline
@kbn/i18n:  info <span class="token punctuation">[</span>tsc       <span class="token punctuation">]</span> <span class="token operator">&gt;</span> tsc --emitDeclarationOnly --declarationMap <span class="token boolean">true</span>
@kbn/i18n:  proc <span class="token punctuation">[</span>babel:web <span class="token punctuation">]</span> Browserslist: caniuse-lite is outdated. Please run next <span class="token builtin class-name">command</span> <span class="token variable"><span class="token variable">`</span><span class="token function">yarn</span> upgrade caniuse-lite browserslist<span class="token variable">`</span></span>
@kbn/es-query:  proc <span class="token punctuation">[</span>babel:public<span class="token punctuation">]</span> Browserslist: caniuse-lite is outdated. Please run next <span class="token builtin class-name">command</span> <span class="token variable"><span class="token variable">`</span><span class="token function">yarn</span> upgrade caniuse-lite browserslist<span class="token variable">`</span></span>
@kbn/test: Successfully compiled <span class="token number">21</span> files with Babel.
@kbn/i18n:  proc <span class="token punctuation">[</span>babel:node<span class="token punctuation">]</span> Successfully compiled <span class="token number">17</span> files with Babel.
@kbn/i18n:  info <span class="token punctuation">[</span>babel:node<span class="token punctuation">]</span> exited with <span class="token number">0</span> after a few seconds
@kbn/i18n:  proc <span class="token punctuation">[</span>babel:web <span class="token punctuation">]</span> Successfully compiled <span class="token number">17</span> files with Babel.
@kbn/i18n:  info <span class="token punctuation">[</span>babel:web <span class="token punctuation">]</span> exited with <span class="token number">0</span> after a few seconds
@kbn/es-query:  proc <span class="token punctuation">[</span>babel:public<span class="token punctuation">]</span> Successfully compiled <span class="token number">59</span> files with Babel.
@kbn/es-query:  info <span class="token punctuation">[</span>babel:public<span class="token punctuation">]</span> exited with <span class="token number">0</span> after a few seconds
@kbn/es-query:  proc <span class="token punctuation">[</span>babel:server<span class="token punctuation">]</span> Successfully compiled <span class="token number">59</span> files with Babel.
@kbn/es-query:  info <span class="token punctuation">[</span>babel:server<span class="token punctuation">]</span> exited with <span class="token number">0</span> after a few seconds
@kbn/es-query:  succ Complete
@kbn/i18n:  info <span class="token punctuation">[</span>tsc       <span class="token punctuation">]</span> exited with <span class="token number">0</span> after a few seconds
@kbn/i18n:  succ Complete
@kbn/interpreter: $ node scripts/build --dev
@kbn/interpreter:  info Deleting old output
@kbn/interpreter:  info Starting babel and webpack
@kbn/interpreter:  info <span class="token punctuation">[</span>babel  <span class="token punctuation">]</span> <span class="token operator">&gt;</span> babel src --ignore *.test.js --out-dir target --copy-files --source-maps inline --quiet
@kbn/interpreter:  info <span class="token punctuation">[</span>webpack<span class="token punctuation">]</span> <span class="token operator">&gt;</span> webpack --config tasks/build/webpack.config.js --env.sourceMaps <span class="token boolean">true</span>
@kbn/interpreter:  info <span class="token punctuation">[</span>babel  <span class="token punctuation">]</span> exited with <span class="token number">0</span> after a few seconds
@kbn/interpreter:  info <span class="token punctuation">[</span>webpack<span class="token punctuation">]</span> exited with <span class="token number">0</span> after a few seconds
@kbn/interpreter:  succ Complete
kibana: $ <span class="token function">yarn</span> build:types <span class="token operator">&amp;&amp;</span> node scripts/register_git_hook
kibana: $ tsc --p tsconfig.types.json
kibana: Registering Kibana pre-commit <span class="token function">git</span> hook<span class="token punctuation">..</span>.
kibana: success Kibana pre-commit <span class="token function">git</span> hook was installed successfully.

Bootstrapping completed<span class="token operator">!</span>

✨  Done <span class="token keyword">in</span> <span class="token number">24</span>.42s.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br></div></div><h2 id="出现的问题"><a href="#出现的问题" aria-hidden="true" class="header-anchor">#</a> 出现的问题</h2> <p><strong>Q1: chromedriver: Command failed.</strong></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>error /Users/wangfucheng/coading/elk/kibana-7.0.1/node_modules/chromedriver: Command failed.
Exit code: <span class="token number">1</span>
Command: node install.js
Arguments: 
Directory: /Users/wangfucheng/coading/elk/kibana-7.0.1/node_modules/chromedriver
Output:
Current existing ChromeDriver binary is unavailable, proceding with download and extraction.


<span class="token punctuation">[</span>bootstrap<span class="token punctuation">]</span> failed:

Error: Command failed: <span class="token function">yarn</span> <span class="token function">install</span> --non-interactive
    at makeError <span class="token punctuation">(</span>/Users/wangfucheng/coading/elk/kibana-7.0.1/packages/kbn-pm/dist/index.js:14155:9<span class="token punctuation">)</span>
    at Promise.all.then.arr <span class="token punctuation">(</span>/Users/wangfucheng/coading/elk/kibana-7.0.1/packages/kbn-pm/dist/index.js:14259:16<span class="token punctuation">)</span>
    at process._tickCallback <span class="token punctuation">(</span>internal/process/next_tick.js:68:7<span class="token punctuation">)</span>
error Command failed with <span class="token builtin class-name">exit</span> code <span class="token number">1</span>.
info Visit https://yarnpkg.com/en/docs/cli/run <span class="token keyword">for</span> documentation about this command.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p><strong>处理办法：</strong> 升级chromedriver版本：<code>&quot;chromedriver&quot;: &quot;^76.0.0&quot;</code></p> <p><strong>Q2: <code>pre-commit</code>导致的问题</strong></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>kibana: fail Kibana pre-commit <span class="token function">git</span> hook was not installed as an error occur.
kibana: ERROR fatal: 不是一个 <span class="token function">git</span> 仓库（或者任何父目录）：.git
✖ kibana: fatal: 不是一个 <span class="token function">git</span> 仓库（或者任何父目录）：.git
kibana: info Visit https://yarnpkg.com/en/docs/cli/run <span class="token keyword">for</span> documentation about this command.
✖ kibana: error Command failed with <span class="token builtin class-name">exit</span> code <span class="token number">1</span>.

<span class="token punctuation">[</span>bootstrap<span class="token punctuation">]</span> failed:

Error: Command failed: <span class="token function">yarn</span> run kbn:bootstrap
fatal: 不是一个 <span class="token function">git</span> 仓库（或者任何父目录）：.git

error Command failed with <span class="token builtin class-name">exit</span> code <span class="token number">1</span>.

$ <span class="token function">yarn</span> build:types <span class="token operator">&amp;&amp;</span> node scripts/register_git_hook
$ tsc --p tsconfig.types.json
Registering Kibana pre-commit <span class="token function">git</span> hook<span class="token punctuation">..</span>.

fail Kibana pre-commit <span class="token function">git</span> hook was not installed as an error occur.

ERROR fatal: 不是一个 <span class="token function">git</span> 仓库（或者任何父目录）：.git

info Visit https://yarnpkg.com/en/docs/cli/run <span class="token keyword">for</span> documentation about this command.

    at makeError <span class="token punctuation">(</span>/Users/wangfucheng/coading/elk/kibana-7.0.1/packages/kbn-pm/dist/index.js:14155:9<span class="token punctuation">)</span>
    at Promise.all.then.arr <span class="token punctuation">(</span>/Users/wangfucheng/coading/elk/kibana-7.0.1/packages/kbn-pm/dist/index.js:14259:16<span class="token punctuation">)</span>
    at process._tickCallback <span class="token punctuation">(</span>internal/process/next_tick.js:68:7<span class="token punctuation">)</span>
error Command failed with <span class="token builtin class-name">exit</span> code <span class="token number">1</span>.
info Visit https://yarnpkg.com/en/docs/cli/run <span class="token keyword">for</span> documentation about this command.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p><strong>处理办法：</strong> 本地的代码不是通过<code>git clone</code>下来的，没有 git 仓库的信息，无法通过 <code>pre-commit</code> 检查。这时通过<code>git init</code>初始化一下即可。</p> <h2 id="修改配置文件"><a href="#修改配置文件" aria-hidden="true" class="header-anchor">#</a> 修改配置文件</h2> <p>修改<code>config/kibana.yml</code>配置文件</p> <blockquote><p>标准配置：<a href="https://www.elastic.co/guide/en/kibana/current/settings.html" target="_blank" rel="noopener noreferrer">Configuring Kibana<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">server.port</span><span class="token punctuation">:</span> <span class="token number">5601</span>
<span class="token key atrule">server.host</span><span class="token punctuation">:</span> <span class="token string">&quot;localhost&quot;</span>
<span class="token key atrule">elasticsearch.hosts</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;http://localhost:9200&quot;</span><span class="token punctuation">]</span>
<span class="token key atrule">i18n.locale</span><span class="token punctuation">:</span> <span class="token string">&quot;zh-CN&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="启动"><a href="#启动" aria-hidden="true" class="header-anchor">#</a> 启动</h2> <p><code>yarn run start</code></p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/Anonymity94/Anonymity94.github.io/edit/v2/articles/running-kibana.md" target="_blank" rel="noopener noreferrer">发现错误？在 GitHub 上编辑此页</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">上次更新: </span> <span class="time">2021/3/11 上午8:01:35</span></div></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.baaeccd8.js" defer></script><script src="/assets/js/2.02fec8bd.js" defer></script><script src="/assets/js/48.bd60e436.js" defer></script><script src="/assets/js/14.96834925.js" defer></script>
  </body>
</html>
