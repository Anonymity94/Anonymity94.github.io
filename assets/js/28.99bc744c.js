(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{351:function(t,e,a){"use strict";a.r(e);var s=a(24),r=Object(s.a)({},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"csp-策略"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#csp-策略","aria-hidden":"true"}},[t._v("#")]),t._v(" CSP 策略")]),t._v(" "),a("ArticleMeta"),t._v(" "),a("p",[t._v('CSP（Content Security Policy），"网页安全政策"，限制的是客户端可加载和执行资源的范围。')]),t._v(" "),a("h2",{attrs:{id:"一-设置内容"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-设置内容","aria-hidden":"true"}},[t._v("#")]),t._v(" 一. 设置内容")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[t._v("Content-Security-Policy"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" default-src 'self'\n")])])]),a("p",[t._v("这个是总体来说比较严格的，限制了所有的外部资源("),a("code",[t._v("js")]),t._v("/"),a("code",[t._v("css")]),t._v("/"),a("code",[t._v("font")]),t._v("字体/"),a("code",[t._v("image")]),t._v("图片等)，都只能从当前域名加载。\n如果同时设置某个单项限制（比如"),a("code",[t._v("font-src")]),t._v("）和"),a("code",[t._v("default-src")]),t._v("，前者会覆盖后者，即字体文件会采用 font-src 的值，其他资源依然采用"),a("code",[t._v("default-src")]),t._v("的值。")]),t._v(" "),a("p",[t._v("当然也可以只限制 js 脚本的加载范围，不关心"),a("code",[t._v("css")]),t._v("/"),a("code",[t._v("font")]),t._v("字体等资源")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[t._v("Content-Security-Policy"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" script-src 'self'\n")])])]),a("h2",{attrs:{id:"二-设置方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二-设置方法","aria-hidden":"true"}},[t._v("#")]),t._v(" 二. 设置方法")]),t._v(" "),a("p",[t._v("前后端都是可以进行设置的。两者二选一即可。")]),t._v(" "),a("ul",[a("li",[t._v("前端在 meta 中可以设置")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('<meta http-equiv="Content-Security-Policy" content="default-src \'self\';">\n')])])]),a("ul",[a("li",[t._v("服务器设置")])]),t._v(" "),a("p",[t._v("暂无")]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("参考资料:")]),t._v(" "),a("ol",[a("li",[a("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2016/09/csp.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Content Security Policy 入门教程 阮一峰"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://www.cnblogs.com/heyuqing/p/6215761.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("前端安全配置之 Content-Security-Policy(csp)"),a("OutboundLink")],1)])])],1)},[],!1,null,null,null);e.default=r.exports}}]);