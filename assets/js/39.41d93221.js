(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{472:function(e,t,s){"use strict";s.r(t);var a=s(19),r=Object(a.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"csp-策略"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#csp-策略"}},[e._v("#")]),e._v(" CSP 策略")]),e._v(" "),s("p",[e._v('CSP（Content Security Policy），"网页安全政策"，限制的是客户端可加载和执行资源的范围。')]),e._v(" "),s("h2",{attrs:{id:"一-设置内容"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一-设置内容"}},[e._v("#")]),e._v(" 一. 设置内容")]),e._v(" "),s("div",{staticClass:"language-json line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[e._v("Content-Security-Policy"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" default-src 'self'\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("这个是总体来说比较严格的，限制了所有的外部资源("),s("code",[e._v("js")]),e._v("/"),s("code",[e._v("css")]),e._v("/"),s("code",[e._v("font")]),e._v("字体/"),s("code",[e._v("image")]),e._v("图片等)，都只能从当前域名加载。\n如果同时设置某个单项限制（比如"),s("code",[e._v("font-src")]),e._v("）和"),s("code",[e._v("default-src")]),e._v("，前者会覆盖后者，即字体文件会采用 font-src 的值，其他资源依然采用"),s("code",[e._v("default-src")]),e._v("的值。")]),e._v(" "),s("p",[e._v("当然也可以只限制 js 脚本的加载范围，不关心"),s("code",[e._v("css")]),e._v("/"),s("code",[e._v("font")]),e._v("字体等资源")]),e._v(" "),s("div",{staticClass:"language-json line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[e._v("Content-Security-Policy"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" script-src 'self'\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("h2",{attrs:{id:"二-设置方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二-设置方法"}},[e._v("#")]),e._v(" 二. 设置方法")]),e._v(" "),s("p",[e._v("前后端都是可以进行设置的。两者二选一即可。")]),e._v(" "),s("ul",[s("li",[e._v("前端在 meta 中可以设置")])]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('<meta http-equiv="Content-Security-Policy" content="default-src \'self\';">\n')])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("ul",[s("li",[e._v("服务器设置")])]),e._v(" "),s("p",[e._v("暂无")]),e._v(" "),s("hr"),e._v(" "),s("p",[e._v("参考资料:")]),e._v(" "),s("ol",[s("li",[s("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2016/09/csp.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Content Security Policy 入门教程 阮一峰"),s("OutboundLink")],1)]),e._v(" "),s("li",[s("a",{attrs:{href:"https://www.cnblogs.com/heyuqing/p/6215761.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("前端安全配置之 Content-Security-Policy(csp)"),s("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=r.exports}}]);