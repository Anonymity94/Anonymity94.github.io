(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{357:function(a,e,t){"use strict";t.r(e);var s=t(24),n=Object(s.a)({},function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"git-rebase"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#git-rebase","aria-hidden":"true"}},[a._v("#")]),a._v(" Git Rebase")]),a._v(" "),t("ArticleMeta"),a._v(" "),t("p",[t("code",[a._v("commit")]),a._v(" 记录太丑，想用 "),t("code",[a._v("rebase")]),a._v(" 命令合并一下~")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("commit 9cd421b930234be192fd09453b7dfe235ed9ce72 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("HEAD -"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" v2, origin/v2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\nMerge: dafad2b 4b3a3de\nAuthor: wangfucheng "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("wangfucheng@machloop.com"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\nDate:   Tue Dec "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("24")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("16")]),a._v(":17:08 "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2019")]),a._v(" +0800\n\n    Merge branch "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'v2'")]),a._v(" of github.com:Anonymity94/Anonymity94.github.io into v2\n\ncommit dafad2b1ff4a47b32a990b3a98ee72339fd0928d\nAuthor: wangfucheng "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("wangfucheng@machloop.com"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\nDate:   Tue Dec "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("24")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("15")]),a._v(":03:44 "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2019")]),a._v(" +0800\n\n    feat: 新增GitHub Actions功能\n\ncommit 4b3a3dec764da2e04a1d890989922c7260fb2005\nAuthor: wangfucheng "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("wangfucheng@machloop.com"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\nDate:   Tue Dec "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("24")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("15")]),a._v(":57:25 "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2019")]),a._v(" +0800\n\n    fix: use PERSONAL_TOKEN\n\ncommit 396b18a9b5d3ced2484b0568d3aca5aedc6d520d\nAuthor: wangfucheng "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("wangfucheng@machloop.com"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\nDate:   Tue Dec "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("24")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("15")]),a._v(":50:45 "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2019")]),a._v(" +0800\n\n    feat: use actions-gh-pages\n\ncommit 8553718508fc608fa614cc427dcf0076951f4933\nAuthor: wangfucheng "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("wangfucheng@machloop.com"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\nDate:   Tue Dec "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("24")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("15")]),a._v(":43:35 "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2019")]),a._v(" +0800\n\n    fix: change output directory\n\ncommit 781bf5f18d4ac314313adeea8f1b55b6cc6d149f\nAuthor: wangfucheng "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("wangfucheng@machloop.com"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\nDate:   Tue Dec "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("24")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("15")]),a._v(":40:13 "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2019")]),a._v(" +0800\n\n    fix: change output directory\n\ncommit 0be9ba6f336772de218e0a02722a32930f632fca\nAuthor: wangfucheng "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("wangfucheng@machloop.com"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\nDate:   Tue Dec "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("24")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("15")]),a._v(":34:45 "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2019")]),a._v(" +0800\n\n    fix: change output directory\n\ncommit d0632eac64a50e30eb1fa96b972f447493c97f11\nAuthor: wangfucheng "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("wangfucheng@machloop.com"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\nDate:   Tue Dec "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("24")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("15")]),a._v(":09:10 "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2019")]),a._v(" +0800\n\n    fix: Deploy Folder\n\ncommit 783de83b309a1e3cca81d541c10c1a016947c3c3\nAuthor: wangfucheng "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("wangfucheng@machloop.com"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\nDate:   Tue Dec "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("24")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("15")]),a._v(":03:44 "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2019")]),a._v(" +0800\n\n    feat: 新增GitHub Actions功能\n\n")])])]),t("h2",{attrs:{id:"选择历史提交记录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#选择历史提交记录","aria-hidden":"true"}},[a._v("#")]),a._v(" 选择历史提交记录")]),a._v(" "),t("ul",[t("li",[a._v("可以选择前几次提交记录")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" rebase -i HEAD~2\n")])])]),t("ul",[t("li",[a._v("也可以指定 "),t("code",[a._v("commit ID")])])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" rebase -i 2e59ef617b7e15246cbe5ee4cbd3835cad68496a\n")])])]),t("p",[a._v("得到以下结果：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("pick dafad2b feat: 新增GitHub Actions功能\npick 783de83 feat: 新增GitHub Actions功能\npick d0632ea fix: Deploy Folder\npick 0be9ba6 fix: change output directory\npick 781bf5f fix: change output directory\npick "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("8553718")]),a._v(" fix: change output directory\npick 396b18a feat: use actions-gh-pages\npick 4b3a3de fix: use PERSONAL_TOKEN\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 变基 2e59ef6..9cd421b 到 4b3a3de（8 个提交）")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 命令:")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# p, pick <提交> = 使用提交")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# r, reword <提交> = 使用提交，但修改提交说明")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# e, edit <提交> = 使用提交，进入 shell 以便进行提交修补")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# s, squash <提交> = 使用提交，但融合到前一个提交")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v('# f, fixup <提交> = 类似于 "squash"，但丢弃提交说明日志')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# x, exec <命令> = 使用 shell 运行命令（此行剩余部分）")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# b, break = 在此处停止（使用 'git rebase --continue' 继续变基）")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# d, drop <提交> = 删除提交")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# l, label <label> = 为当前 HEAD 打上标记")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# t, reset <label> = 重置 HEAD 到该标记")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# m, merge [-C <commit> | -c <commit>] <label> [# <oneline>]")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# .       创建一个合并提交，并使用原始的合并提交说明（如果没有指定")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# .       原始提交，使用注释部分的 oneline 作为提交说明）。使用")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# .       -c <提交> 可以编辑提交说明。")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 可以对这些行重新排序，将从上至下执行。")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 如果您在这里删除一行，对应的提交将会丢失。")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 然而，如果您删除全部内容，变基操作将会终止。")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 注意空提交已被注释掉")]),a._v("\n")])])]),t("h2",{attrs:{id:"合并提交"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#合并提交","aria-hidden":"true"}},[a._v("#")]),a._v(" 合并提交")]),a._v(" "),t("p",[a._v("保留第一行的 "),t("code",[a._v("pick")]),a._v("，将第二行以后的 "),t("code",[a._v("pick")]),a._v(" 修改为 "),t("code",[a._v("f")]),a._v('(fixup <提交> = 类似于 "squash"，但丢弃提交说明日志)\n保存，退出。')]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("pick dafad2b feat: 新增GitHub Actions功能\nf 783de83 feat: 新增GitHub Actions功能\nf d0632ea fix: Deploy Folder\nf 0be9ba6 fix: change output directory\nf 781bf5f fix: change output directory\nf "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("8553718")]),a._v(" fix: change output directory\nf 396b18a feat: use actions-gh-pages\nf 4b3a3de fix: use PERSONAL_TOKEN\n")])])]),t("h2",{attrs:{id:"编辑提交信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#编辑提交信息","aria-hidden":"true"}},[a._v("#")]),a._v(" 编辑提交信息")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" commit -a\n")])])]),t("p",[a._v("将之前的提交描述信息，修改合并后保存。")]),a._v(" "),t("h2",{attrs:{id:"合并冲突"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#合并冲突","aria-hidden":"true"}},[a._v("#")]),a._v(" 合并冲突")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("div",{staticClass:"highlight-lines"},[t("br"),t("br"),t("br"),t("div",{staticClass:"highlighted"},[a._v(" ")]),t("div",{staticClass:"highlighted"},[a._v(" ")]),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br")]),t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('$ git commit -m "rebase"\n[分离头指针 eae0801] rebase\n 1 file changed, 1 insertion(+), 1 deletion(-)\n$ git rebase --continue\n自动合并 .github/workflows/ci.yml\n冲突（内容）：合并冲突于 .github/workflows/ci.yml\nerror: 不能应用 396b18a... feat: use actions-gh-pages\nResolve all conflicts manually, mark them as resolved with\n"git add/rm <conflicted_files>", then run "git rebase --continue".\nYou can instead skip this commit: run "git rebase --skip".\nTo abort and get back to the state before "git rebase", run "git rebase --abort".\n不能应用 396b18a... feat: use actions-gh-pages\n')])])]),t("p",[a._v("当合并提交存在文件有冲突时，需要执行手动合并冲突。合并完成后执行下述命令，继续进行变基操作。")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" rebase --continue\n")])])]),t("p",[a._v("直到完成所有的操作，得到以下输出。")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" rebase --continue\nSuccessfully rebased and updated refs/heads/v2.\n")])])]),t("h2",{attrs:{id:"强制push"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#强制push","aria-hidden":"true"}},[a._v("#")]),a._v(" 强制push")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("git push origin master -f\n")])])]),t("h2",{attrs:{id:"参考"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考","aria-hidden":"true"}},[a._v("#")]),a._v(" 参考")]),a._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://blog.csdn.net/jerechen/article/details/89556281",target:"_blank",rel:"noopener noreferrer"}},[a._v("Git 笔记：将两个提交合并为一个"),t("OutboundLink")],1)])])],1)},[],!1,null,null,null);e.default=n.exports}}]);